#!/usr/bin/env ruby
# frozen_string_literal: true

require "bundler/setup"
require "irb"
require "cli_progress_bar"


# Append to path for ../lib/cli_progress_bar
$LOAD_PATH.unshift(File.expand_path("../lib", __dir__))


def reload
  load "cli_progress_bar.rb"
  load "cli_progress_bar/version.rb"
  load "cli_progress_bar/progress_bar.rb"
  load "cli_progress_bar/percent_progress_bar.rb"
  load "cli_progress_bar/item_progress_bar.rb"
  load __FILE__  # This file
end


def test_percent
  progress_bar = CLIProgressBar::PercentProgressBar.new(
    of: "1 GiB", log_at: CLIProgressBar::LOG_AT_ALL_PERCENTS
  )

  progress_bar.increment(by: 5)
  progress_bar.increment
  progress_bar.increment
  progress_bar.increment
  progress_bar.increment(by: 2)
  progress_bar.update(40)
  progress_bar.increment(by: 40, suffix: "Almost there!")
  progress_bar.update(100, suffix: "Complete :-)")

  nil
end

def test_items
  progress_bar = CLIProgressBar::ItemProgressBar.new(10, of: "webpages")

  progress_bar.increment(by: 3)
  progress_bar.increment
  progress_bar.increment
  progress_bar.increment
  progress_bar.increment(by: 2, suffix: "Almost there!")
  progress_bar.update(10, suffix: "Complete :-)")

  nil
end


IRB.start(__FILE__)
