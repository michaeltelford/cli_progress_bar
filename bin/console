#!/usr/bin/env ruby
# frozen_string_literal: true

require "bundler/setup"
require "irb"
require "cli_progress_bar"


# Append to path for ../lib/cli_progress_bar
$LOAD_PATH.unshift(File.expand_path("../lib", __dir__))


def reload
  load "cli_progress_bar.rb"
  load "cli_progress_bar/version.rb"
  load "cli_progress_bar/progress_bar.rb"
  load "cli_progress_bar/percent_progress_bar.rb"
  load "cli_progress_bar/item_progress_bar.rb"
  load __FILE__  # This file
end


### PERCENT PROGRESS BAR

def test_percent
  progress_bar = CLIProgressBar::PercentProgressBar.new(of: "2.3 MiB", log_at: CLIProgressBar::ProgressBar::LOG_AT_ALL_PERCENTS, bar_length: 100, line_char: "=")
  10.times { |i| progress_bar.update((i+1) * 10) }
  # 100.times { progress_bar.increment }

  nil
end

### ITEM PROGRESS BAR

def test_items(max_items: 12)
  progress_bar = CLIProgressBar::ItemProgressBar.new(max_items, of: "12 webpages", bar_length: 30)
  12.times { progress_bar.increment }

  nil
end


IRB.start(__FILE__)
